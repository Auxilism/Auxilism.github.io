<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" href="../css/bootstrap.css">
<script src="../js/bootstrap.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Current version 4.4.1 -->
<script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.0.1/chartjs-plugin-zoom.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AB Hexa skill calculator</title>
</head>

<body>
    <script src="../utilis.js"></script>
    <script src="hexa-skill.js"></script>
    <script src="hexa-mastery-node.js"></script>
    <script src="hexa-trinity.js"></script>
    <script src="hexa-seeker.js"></script>
    <script src="hexa-da-capo.js"></script>
    <script src="hexa-supernova.js"></script>
    <script src="hexa-boost-node.js"></script>
    <script src="hexa-mascot.js"></script>
    <script src="hexa-origin-node.js"></script>
    <script src="converted-hexa-stat-to-skill.js"></script>
    <script src="hexa-skill-matrix.js"></script>

    <script src="../hexa_stat/hexa-stat-line-types.js"></script>
    <script src="../hexa_stat/hexa-stat-line.js"></script>
    <script src="../hexa_stat/hexa-stat-node.js"></script>
    <script src="../hexa_stat/hexa-stat-node-array.js"></script>
    <script src="../hexa_stat/hexa-stat-matrix.js"></script>

    <script src="main.js"></script>

    <div class="container" id="input_fields" style="width: fit-content">
        <a href="../index.html">Hub</a>
        <h1>Optimising hexa matrix bossing for Angelic Buster</h1>
        <hr>
        For each skill, put the total damage they did in the BA's column.<br>
        It is recommended to have <b>at least lvl 1 of Encore Ribbon (Roar) and Hexa Supernova before using</b> this optimiser. <b>If they are level 0, assumptions will be made.</b><br>
        Having Hexa Supernova also turns supernova into a <b>30s summon for mobbing</b>, making it very useful for training regardless of its bossing damage.</br>
        <form onsubmit="return false">
            <table class="table table-bordered" style="width: auto;">
                <tbody>
                    <tr>
                        <td>
                            BA total damage<br>
                            <input id="baInputTotal" type="number" step=1 value=287647411221286><br>
                            (everything, including skills not listed here)
                            <!-- 324,594,000,967,354 -->
                        </td>
                        <td>
                            Grand Finale total<br>
                            <input id="gfInputTotal" type="number" step=1 value=5825570935329><br>
                            (no Cheering Balloons)
                            <!-- 7,306,418,884,886 - 15 -->
                        </td>
                        <td>
                            Cheering Balloons total<br>
                            <input id="cbInputTotal" type="number" step=1 value=18661538166551><br>
                            (not Seeker)
                            <!-- 17,048,430,295,127 - 15 -->
                        </td>
                        <td>
                            Trinity total<br>
                            <input id="trinityInputTotal" type="number" step=1 value=81976698724066><br>
                            (not Fusion)
                            <!-- 138,998,182,239,208 - 30 -->
                        </td>
                        <td>
                            Seeker total<br>
                            <input id="seekerInputTotal" type="number" step=1 value=87961629629629><br>
                            (not Cheering Balloons)
                            <!-- 68,354,447,645,003 - 0 -->
                        </td>
                        <td>
                            Supernova total<br>
                            <input id="supernovaInputTotal" type="number" step=1 value=7553936265709><br>
                            If hexa Supernova is not unlocked, input the 4th job supernova total.
                            <!-- 68,354,447,645,003 - 0 -->
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Spotlight total<br>
                            <input id="spotlightInputTotal" type="number" step=1 value=23003625000000>
                            <!-- 22,648,632,927,326 - 10 -->
                        </td>
                        <td>
                            Mascot total<br>
                            <input id="mascotInputTotal" type="number" step=1 value=26925125000000>
                            <!-- 34,626,591,313,880 - 20 -->
                        </td>
                        <td>
                            Sparkle Burst total<br>
                            <input id="sbInputTotal" type="number" step=1 value=15934187500000>
                            <!-- 16,171,863,617,283 - 10 -->
                        </td>
                        <td>
                            Trinity Fusion total<br>
                            <input id="tfInputTotal" type="number" step=1 value=15338000000000><br>
                            (not Trinity)
                            <!-- 9,783,522,867,169 - 1 -->
                        </td>
                        <td>
                            Encore Ribbon total<br>
                            <input id="daCapoInputTotal" type="number" step=1 value=9708531624954><br>
                        </td>
                        <td>
                            -blank space-<br>
                        </td>
                    </tr>
                </tbody>
            </table>
            <b>Sol Janus is not shown here as it is not used for bossing. Each player considers the importance of exp/mob clear differently, so it should be prioritised according to your personal peference.</b><br>
            Enter the current Hexa levels of each skill:
            <table class="table table-bordered" style="width: auto;">
                <tbody>
                    <tr>
                        <td>
                            Grand Finale level<br>
                            <input id="gfCurrLevel" type="number" step=1 value=1><br>
                        </td>
                        <td>
                            Hexa Trinity level<br>
                            <input id="trinityCurrLevel" type="number" step=1 value=0><br>
                            (not Fusion)
                        </td>
                        <td>
                            Hexa Seeker level<br>
                            <input id="seekerCurrLevel" type="number" step=1 value=0><br>
                        </td>
                        <td>
                            Hexa Supernova level<br>
                            <input id="supernovaCurrLevel" type="number" step=1 value=0><br>
                        </td>
                        <td>
                            -blank space-<br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Hexa Spotlight level<br>
                            <input id="spotlightCurrLevel" type="number" step=1 value=0>
                        </td>
                        <td>
                            Hexa Mascot level<br>
                            <input id="mascotCurrLevel" type="number" step=1 value=0>
                        </td>
                        <td>
                            Hexa Sparkle Burst level<br>
                            <input id="sbCurrLevel" type="number" step=1 value=0>
                        </td>
                        <td>
                            Hexa Trinity Fusion level<br>
                            <input id="tfCurrLevel" type="number" step=1 value=0><br>
                            (not Trinity)
                        </td>
                        <td>
                            Encore Ribbon level<br>
                            <input id="daCapoCurrLevel" type="number" step=1 value=1><br>
                        </td>
                    </tr>
                </tbody>
            </table>
            For origin ied/boss boost at lvl 10/20/30, and hexa stat<br>
            E.g. put 5 to mean that unit will give you 5% FD or multiply your dps by 1.05x<br>
            <table class="table table-bordered" style="width: auto;">
                <tbody>
                    <tr>
                        <td>
                            FD% per 30 raw att<br>
                            <input id="fdPerAttUnit" type="number" step=0.00000000001 value=0.829>%<br>
                        </td>
                        <td>
                            FD% per 200 flat (Not Affected by %) dex<br>
                            <input id="fdPerFlatStatUnit" type="number" step=0.00000000001 value=0.256>%<br>
                        </td>
                        <td>
                            FD% per 8% crit dmg<br>
                            <input id="fdPerCritDmgUnit" type="number" step=0.00000000001 value=2.538>%
                        </td>
                    </tr>
                    <tr>
                        <td>
                            FD% per 40% boss dmg<br>
                            <input id="fdPerBossDmgUnit" type="number" step=0.00000000001 value=3.486>%
                        </td>
                        <td>
                            FD% per 40% ied<br>
                            <input id="fdPerIEDUnit" type="number" step=0.00000000001 value=1.734>%
                        </td>
                    </tr>
                </tbody>
            </table>
            If the FD%s aren't known, I recommend using <a href="https://maplescouter.com" target="_blank" rel="noopener noreferrer">https://maplescouter.com</a> to fill in the character's stats and adjust the 'Value' column under 'Stat Efficiency'.<br>
            The units asked for match maplescouter's Stat Efficiency.<br>
            <br>
            Setting a high number of trials could make the simulation take a long time as the simulation is repeated for each Hexa Stat level.<br>
            Number of trials: <input id="numTrialsInput" type="number" value=1000><br>
            <b>Disclaimer: Due to Hexa Stat being random, the data here may not match your specific case. Only the average case is considered.</b><br>
            <button id="calculate" type="submit" class="btnSubmit">Calculate</button>
            <hr>
        </form>
        Results:
        <div id="progressUpdate"></div>
        <div id="result" hidden="true">
            <canvas id="resultsChart"></canvas>
            <button id="resetZoom">Reset zoom</button><br>
            <br>
            Numbers in brackets are (total FD%, total fragments spent).
            <p id="resultPaths"></div>
        </div>
        <p id="debugCounter"></p>
    </div>
</body>

</html>